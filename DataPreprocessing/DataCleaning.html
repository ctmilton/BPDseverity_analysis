<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Carol Milton">

<title>Data Cleaning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="DataCleaning_files/libs/clipboard/clipboard.min.js"></script>
<script src="DataCleaning_files/libs/quarto-html/quarto.js"></script>
<script src="DataCleaning_files/libs/quarto-html/popper.min.js"></script>
<script src="DataCleaning_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="DataCleaning_files/libs/quarto-html/anchor.min.js"></script>
<link href="DataCleaning_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="DataCleaning_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="DataCleaning_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="DataCleaning_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="DataCleaning_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Cleaning</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Carol Milton </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pyreadr is for importing a .RData file</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pyreadr</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="importing-datasets" class="level2">
<h2 class="anchored" data-anchor-id="importing-datasets">Importing Datasets</h2>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importing files</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>factors_df <span class="op">=</span> pd.read_csv(<span class="st">"../Homan_et_al_2017/fae-bpd.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># importing .RData file into Ordered Dict</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>result_df <span class="op">=</span> pyreadr.read_r(<span class="st">"../vonKlipstein_et_al_2021/vonKlipstein2021.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating df from Ordered Dict</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result_df.keys())</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>severity_df <span class="op">=</span> result_df[<span class="st">"shareD"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>odict_keys(['shareD'])</code></pre>
</div>
</div>
<p><code>factors_df</code> contains the data about BPD status (have it or not), depression, paranoia, state anxiety, trait anxiety.</p>
<p><code>severity_df</code> contains the data about BPD severity and subscale symptoms.</p>
</section>
<section id="focusing-on-factors_df" class="level1">
<h1>Focusing on factors_df</h1>
<section id="looking-at-the-data" class="level2">
<h2 class="anchored" data-anchor-id="looking-at-the-data">Looking at the Data</h2>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># looking at n columns</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_columns'</span>, <span class="dv">5</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>factors_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>run</th>
      <th>...</th>
      <th>ttype</th>
      <th>fmrimovparam</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101</td>
      <td>1</td>
      <td>...</td>
      <td>dispositional</td>
      <td>184.050943</td>
    </tr>
    <tr>
      <th>1</th>
      <td>101</td>
      <td>1</td>
      <td>...</td>
      <td>dispositional</td>
      <td>184.050943</td>
    </tr>
    <tr>
      <th>2</th>
      <td>101</td>
      <td>2</td>
      <td>...</td>
      <td>dispositional</td>
      <td>184.050943</td>
    </tr>
    <tr>
      <th>3</th>
      <td>101</td>
      <td>2</td>
      <td>...</td>
      <td>dispositional</td>
      <td>184.050943</td>
    </tr>
    <tr>
      <th>4</th>
      <td>101</td>
      <td>1</td>
      <td>...</td>
      <td>situational</td>
      <td>184.050943</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 200 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating dataset with only necessary columns</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>f_df <span class="op">=</span> factors_df.<span class="bu">filter</span>([<span class="st">'id'</span>,<span class="st">'run'</span>,<span class="st">'trial'</span>,<span class="st">'groupn'</span>,<span class="st">'group'</span>,<span class="st">'age'</span>,<span class="st">'gendern'</span>,<span class="st">'gender'</span>,<span class="st">'matchid'</span>,<span class="st">'paranoia'</span>,<span class="st">'bdi'</span>,<span class="st">'stais'</span>,<span class="st">'stait'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating list of the column names</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fcolumns = list(f_df.columns)</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#fcolumns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examining missing values</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Missing values distribution: "</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f_df.isnull().mean())</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values distribution: 
id          0.000000
run         0.000000
trial       0.000000
groupn      0.000000
group       0.000000
age         0.000000
gendern     0.000000
gender      0.000000
matchid     0.000000
paranoia    0.147059
bdi         0.264706
stais       0.323529
stait       0.323529
dtype: float64
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking to see the count after all NaNs are taken out</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>new_f <span class="op">=</span> f_df.dropna()</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       id  run  ...  stais  stait
192   105    2  ...   46.0   44.0
193   105    2  ...   46.0   44.0
194   105    1  ...   46.0   44.0
195   105    1  ...   46.0   44.0
196   105    1  ...   46.0   44.0
...   ...  ...  ...    ...    ...
2171  143    2  ...   29.0   23.0
2172  143    1  ...   29.0   23.0
2173  143    1  ...   29.0   23.0
2174  143    2  ...   29.0   23.0
2175  143    2  ...   29.0   23.0

[1344 rows x 13 columns]</code></pre>
</div>
</div>
<p>There is high percentage of missing values for <code>stais</code> and <code>stait</code> at around 32%. The columns <code>paranoia</code> and <code>bdi</code> don’t have as many missing values. The other variables don’t have any missing values which is great.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking each column's datatype</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Column datatypes: "</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f_df.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Column datatypes: 
id            int64
run           int64
trial         int64
groupn        int64
group        object
age           int64
gendern       int64
gender       object
matchid       int64
paranoia    float64
bdi         float64
stais       float64
stait       float64
dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># listing all the columns with string/mixed type values</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>str_cols <span class="op">=</span> [<span class="st">'group'</span>, <span class="st">'gender'</span>]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># removing leading and trailing characters from columns with str type</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> str_cols:</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    f_df[i] <span class="op">=</span> f_df[i].<span class="bu">str</span>.strip()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking smallest values in columns with NaNs</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest paranoia value:"</span>, np.nanmin(f_df.iloc[:, <span class="dv">9</span>].values))</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest depression value:"</span>, np.nanmin(f_df.iloc[:, <span class="dv">10</span>].values))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest state anxiety value:"</span>, np.nanmin(f_df.iloc[:, <span class="dv">11</span>].values))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest trait anxiety value:"</span>, np.nanmin(f_df.iloc[:, <span class="dv">12</span>].values))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Smallest paranoia value: 17.0
Smallest depression value: 0.0
Smallest state anxiety value: 20.0
Smallest trait anxiety value: 20.0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking largest values in columns with NaNs</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest paranoia value:"</span>, np.nanmax(f_df.iloc[:, <span class="dv">9</span>].values))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest depression value:"</span>, np.nanmax(f_df.iloc[:, <span class="dv">10</span>].values))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest state anxiety value:"</span>, np.nanmax(f_df.iloc[:, <span class="dv">11</span>].values))</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest trait anxiety value:"</span>, np.nanmax(f_df.iloc[:, <span class="dv">12</span>].values))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Largest paranoia value: 54.0
Largest depression value: 37.0
Largest state anxiety value: 64.0
Largest trait anxiety value: 58.0</code></pre>
</div>
</div>
</section>
<section id="dealing-with-missing-values" class="level2">
<h2 class="anchored" data-anchor-id="dealing-with-missing-values">Dealing with Missing Values</h2>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking the id, group, and gender of rows with NaNs in paranoia column</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>select_indicesP <span class="op">=</span> <span class="bu">list</span>(np.where(f_df.loc[:,<span class="st">"paranoia"</span>].isnull()))[<span class="dv">0</span>]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> f_df.loc[select_indicesP,[<span class="st">"id"</span>,<span class="st">"group"</span>,<span class="st">"gender"</span>]].drop_duplicates()</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>group</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>64</th>
      <td>102</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>128</th>
      <td>104</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1088</th>
      <td>122</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1152</th>
      <td>125</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking the id, group, and gender of rows with NaNs in bdi column</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>select_indicesB <span class="op">=</span> <span class="bu">list</span>(np.where(f_df.loc[:,<span class="st">"bdi"</span>].isnull()))[<span class="dv">0</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> f_df.loc[select_indicesB,[<span class="st">"id"</span>,<span class="st">"group"</span>,<span class="st">"gender"</span>]].drop_duplicates()</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>group</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>64</th>
      <td>102</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>512</th>
      <td>111</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>704</th>
      <td>114</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>768</th>
      <td>116</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>896</th>
      <td>119</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>1024</th>
      <td>121</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1152</th>
      <td>125</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1984</th>
      <td>141</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking the id, group, and gender of rows with NaNs in stais column</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>select_indicesS <span class="op">=</span> <span class="bu">list</span>(np.where(f_df.loc[:,<span class="st">"stais"</span>].isnull()))[<span class="dv">0</span>]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> f_df.loc[select_indicesS,[<span class="st">"id"</span>,<span class="st">"group"</span>,<span class="st">"gender"</span>]].drop_duplicates()</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>s</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>group</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>64</th>
      <td>102</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>512</th>
      <td>111</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>704</th>
      <td>114</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>768</th>
      <td>116</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>896</th>
      <td>119</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>1024</th>
      <td>121</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1152</th>
      <td>125</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1664</th>
      <td>136</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1920</th>
      <td>140</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>1984</th>
      <td>141</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking the id, group, and gender of rows with NaNs in stait column</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>select_indicesT <span class="op">=</span> <span class="bu">list</span>(np.where(f_df.loc[:,<span class="st">"stait"</span>].isnull()))[<span class="dv">0</span>]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> f_df.loc[select_indicesT,[<span class="st">"id"</span>,<span class="st">"group"</span>,<span class="st">"gender"</span>]].drop_duplicates()</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>group</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>64</th>
      <td>102</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>512</th>
      <td>111</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>704</th>
      <td>114</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>768</th>
      <td>116</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>896</th>
      <td>119</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>1024</th>
      <td>121</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1152</th>
      <td>125</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1664</th>
      <td>136</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1920</th>
      <td>140</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>1984</th>
      <td>141</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking for common ids in paranoia and bdi columns</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>common_pb <span class="op">=</span> p.merge(b, on<span class="op">=</span><span class="st">"id"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>common_pb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>group_x</th>
      <th>gender_x</th>
      <th>group_y</th>
      <th>gender_y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101</td>
      <td>HCC</td>
      <td>F</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1</th>
      <td>102</td>
      <td>BPD</td>
      <td>F</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>2</th>
      <td>125</td>
      <td>HCC</td>
      <td>F</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking if all ids in stais and stait are the same</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s.equals(t))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True</code></pre>
</div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking for common ids in bdi and stais columns</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>common_bs <span class="op">=</span> b.merge(s, on<span class="op">=</span><span class="st">"id"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>common_bs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>group_x</th>
      <th>gender_x</th>
      <th>group_y</th>
      <th>gender_y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101</td>
      <td>HCC</td>
      <td>F</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1</th>
      <td>102</td>
      <td>BPD</td>
      <td>F</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>2</th>
      <td>111</td>
      <td>HCC</td>
      <td>F</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>3</th>
      <td>114</td>
      <td>HCC</td>
      <td>F</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>4</th>
      <td>116</td>
      <td>HCC</td>
      <td>M</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>5</th>
      <td>119</td>
      <td>HCC</td>
      <td>M</td>
      <td>HCC</td>
      <td>M</td>
    </tr>
    <tr>
      <th>6</th>
      <td>121</td>
      <td>HCC</td>
      <td>F</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>7</th>
      <td>125</td>
      <td>HCC</td>
      <td>F</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>8</th>
      <td>141</td>
      <td>HCC</td>
      <td>F</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking for all common ids among paranoia, bdi, stais, and stait</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>common <span class="op">=</span> common_pb.merge(s, on<span class="op">=</span><span class="st">"id"</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>common</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>group_x</th>
      <th>...</th>
      <th>group</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101</td>
      <td>HCC</td>
      <td>...</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
    <tr>
      <th>1</th>
      <td>102</td>
      <td>BPD</td>
      <td>...</td>
      <td>BPD</td>
      <td>F</td>
    </tr>
    <tr>
      <th>2</th>
      <td>125</td>
      <td>HCC</td>
      <td>...</td>
      <td>HCC</td>
      <td>F</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 7 columns</p>
</div>
</div>
</div>
<p>Now, we know the IDs for rows with NaNs in all four variables of interest. All the IDs with NaNs in the <code>bdi</code> column are also the same in the <code>stais</code> and <code>stait</code> columns.</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a list of the row indices with NaNs</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> select_indicesP.tolist() <span class="op">+</span> select_indicesB.tolist()</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># don't need to add select_indicesT since it equals select_indicesS</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>NAindices <span class="op">=</span> temp <span class="op">+</span> select_indicesS.tolist()</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># getting rid of duplicates</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>NAindices <span class="op">=</span> [<span class="op">*</span><span class="bu">set</span>(NAindices)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating dataset after removing NaNs in paranoia column</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>fp_df <span class="op">=</span> f_df.drop(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  labels<span class="op">=</span>select_indicesP,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  axis<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  inplace<span class="op">=</span><span class="va">False</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examining missing values</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Missing values distribution: "</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fp_df.isnull().mean())</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values distribution: 
id          0.000000
run         0.000000
trial       0.000000
groupn      0.000000
group       0.000000
age         0.000000
gendern     0.000000
gender      0.000000
matchid     0.000000
paranoia    0.000000
bdi         0.206897
stais       0.275862
stait       0.275862
dtype: float64
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating dataset after removing NaNs in bdi column</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>fb_df <span class="op">=</span> f_df.drop(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  labels<span class="op">=</span>select_indicesB,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  axis<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  inplace<span class="op">=</span><span class="va">False</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examining missing values</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Missing values distribution: "</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fb_df.isnull().mean())</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values distribution: 
id          0.00
run         0.00
trial       0.00
groupn      0.00
group       0.00
age         0.00
gendern     0.00
gender      0.00
matchid     0.00
paranoia    0.08
bdi         0.00
stais       0.08
stait       0.08
dtype: float64
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating dataset after removing NaNs in stais and stait columns</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>fst_df <span class="op">=</span> f_df.drop(</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  labels<span class="op">=</span>select_indicesS,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  axis<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  inplace<span class="op">=</span><span class="va">False</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examining missing values</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Missing values distribution: "</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fst_df.isnull().mean())</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values distribution: 
id          0.000000
run         0.000000
trial       0.000000
groupn      0.000000
group       0.000000
age         0.000000
gendern     0.000000
gender      0.000000
matchid     0.000000
paranoia    0.086957
bdi         0.000000
stais       0.000000
stait       0.000000
dtype: float64
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating dataset after removing NaNs in all columns</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>f_cleandf <span class="op">=</span> f_df.drop(</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  labels<span class="op">=</span>NAindices,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  axis<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  inplace<span class="op">=</span><span class="va">False</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examining missing values</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Missing values distribution: "</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(f_cleandf.isnull().mean())</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values distribution: 
id          0.0
run         0.0
trial       0.0
groupn      0.0
group       0.0
age         0.0
gendern     0.0
gender      0.0
matchid     0.0
paranoia    0.0
bdi         0.0
stais       0.0
stait       0.0
dtype: float64
</code></pre>
</div>
</div>
</section>
<section id="creating-dataset-to-use-for-analysis" class="level2">
<h2 class="anchored" data-anchor-id="creating-dataset-to-use-for-analysis">Creating Dataset to Use for Analysis</h2>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>factors_final_df <span class="op">=</span> f_cleandf.groupby([<span class="st">"id"</span>,<span class="st">"run"</span>]).agg(<span class="bu">id</span><span class="op">=</span>(<span class="st">'id'</span>,<span class="st">'mean'</span>),run<span class="op">=</span>(<span class="st">'run'</span>,<span class="st">'mean'</span>),groupn<span class="op">=</span>(<span class="st">'groupn'</span>,<span class="st">'mean'</span>),age<span class="op">=</span>(<span class="st">'age'</span>,<span class="st">'mean'</span>),gendern<span class="op">=</span>(<span class="st">'gendern'</span>,<span class="st">'mean'</span>),matchid<span class="op">=</span>(<span class="st">'matchid'</span>,<span class="st">'mean'</span>),paranoiaM<span class="op">=</span>(<span class="st">'paranoia'</span>,<span class="st">'mean'</span>),bdiM<span class="op">=</span>(<span class="st">'bdi'</span>,<span class="st">'mean'</span>),staisM<span class="op">=</span>(<span class="st">'stais'</span>,<span class="st">'mean'</span>),staitM<span class="op">=</span>(<span class="st">'stait'</span>,<span class="st">'mean'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exporting-datsets" class="level2">
<h2 class="anchored" data-anchor-id="exporting-datsets">Exporting Datsets</h2>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>fp_df.to_csv(<span class="st">"../Data/FactorsData/paranoia_noNaNs.csv"</span>, index<span class="op">=</span><span class="va">False</span>, header<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>fb_df.to_csv(<span class="st">"../Data/FactorsData/bdi_noNaNs.csv"</span>, index<span class="op">=</span><span class="va">False</span>, header<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>fst_df.to_csv(<span class="st">"../Data/FactorsData/anxiety_noNaNs.csv"</span>, index<span class="op">=</span><span class="va">False</span>, header<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>f_cleandf.to_csv(<span class="st">"../Data/FactorsData/factors_noNaNs.csv"</span>, index<span class="op">=</span><span class="va">False</span>, header<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>factors_final_df.to_csv(<span class="st">"../Data/FactorsData/factors.csv"</span>, index<span class="op">=</span><span class="va">False</span>, header<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="focusing-on-severity_df" class="level1">
<h1>Focusing on severity_df</h1>
<section id="looking-at-the-data-1" class="level2">
<h2 class="anchored" data-anchor-id="looking-at-the-data-1">Looking at the Data</h2>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># looking at n columns</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_columns'</span>, <span class="dv">5</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>severity_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>ID</th>
      <th>study</th>
      <th>...</th>
      <th>BPDSI9av</th>
      <th>BPDSIsum</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>Giesen-Bloo</td>
      <td>...</td>
      <td>3.125</td>
      <td>27.152760</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>Giesen-Bloo</td>
      <td>...</td>
      <td>4.375</td>
      <td>32.040530</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.0</td>
      <td>Giesen-Bloo</td>
      <td>...</td>
      <td>4.750</td>
      <td>27.934799</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.0</td>
      <td>Giesen-Bloo</td>
      <td>...</td>
      <td>6.000</td>
      <td>42.004167</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.0</td>
      <td>Giesen-Bloo</td>
      <td>...</td>
      <td>4.500</td>
      <td>37.020238</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 83 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>severity_df[[<span class="st">'ID'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>ID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>3666</th>
      <td>681.0</td>
    </tr>
    <tr>
      <th>3667</th>
      <td>682.0</td>
    </tr>
    <tr>
      <th>3668</th>
      <td>682.0</td>
    </tr>
    <tr>
      <th>3669</th>
      <td>683.0</td>
    </tr>
    <tr>
      <th>3670</th>
      <td>683.0</td>
    </tr>
  </tbody>
</table>
<p>3671 rows × 1 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating dataset with only necessary columns</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>s_df <span class="op">=</span> severity_df.<span class="bu">filter</span>([<span class="st">'ID'</span>,<span class="st">'study'</span>,<span class="st">'BPDSIsum'</span>,<span class="st">'BPDSI1av'</span>,<span class="st">'BPDSI2av'</span>,<span class="st">'BPDSI3av'</span>,<span class="st">'BPDSI4av'</span>,<span class="st">'BPDSI5av'</span>,<span class="st">'BPDSI6av'</span>,<span class="st">'BPDSI7av'</span>,<span class="st">'BPDSI8av'</span>,<span class="st">'BPDSI9av'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating list of the column names</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co">#scolumns = list(s_df.columns)</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co">#scolumns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(s_df.index)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>3671</code></pre>
</div>
</div>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examining missing values</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Missing values distribution: "</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s_df.isnull().mean())</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values distribution: 
ID          0.000000
study       0.000000
BPDSIsum    0.262599
BPDSI1av    0.246799
BPDSI2av    0.255789
BPDSI3av    0.247072
BPDSI4av    0.247344
BPDSI5av    0.247072
BPDSI6av    0.247344
BPDSI7av    0.247072
BPDSI8av    0.247072
BPDSI9av    0.247889
dtype: float64
</code></pre>
</div>
</div>
<p>The <code>ID</code> and <code>study</code> columns have no missing values. The percentage of missing values for all other variables of interest is about the same.</p>
</section>
<section id="dealing-with-missing-values-1" class="level2">
<h2 class="anchored" data-anchor-id="dealing-with-missing-values-1">Dealing with Missing Values</h2>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating new cleaned dataset without missing values</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>s_temp <span class="op">=</span> s_df.dropna(axis<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examining missing values</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Missing values distribution: "</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s_temp.isnull().mean())</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values distribution: 
ID          0.0
study       0.0
BPDSIsum    0.0
BPDSI1av    0.0
BPDSI2av    0.0
BPDSI3av    0.0
BPDSI4av    0.0
BPDSI5av    0.0
BPDSI6av    0.0
BPDSI7av    0.0
BPDSI8av    0.0
BPDSI9av    0.0
dtype: float64
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(s_temp.index)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>2707</code></pre>
</div>
</div>
</section>
<section id="checking-data-types" class="level2">
<h2 class="anchored" data-anchor-id="checking-data-types">Checking Data Types</h2>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking each column's datatype</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Column datatypes: "</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s_temp.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Column datatypes: 
ID           float64
study       category
BPDSIsum     float64
BPDSI1av     float64
BPDSI2av     float64
BPDSI3av     float64
BPDSI4av     float64
BPDSI5av     float64
BPDSI6av     float64
BPDSI7av     float64
BPDSI8av     float64
BPDSI9av     float64
dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>s_temp[<span class="st">'ID'</span>] <span class="op">=</span> s_temp[<span class="st">'ID'</span>].astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking each column's datatype</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Column datatypes: "</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s_temp.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Column datatypes: 
ID             int64
study       category
BPDSIsum     float64
BPDSI1av     float64
BPDSI2av     float64
BPDSI3av     float64
BPDSI4av     float64
BPDSI5av     float64
BPDSI6av     float64
BPDSI7av     float64
BPDSI8av     float64
BPDSI9av     float64
dtype: object</code></pre>
</div>
</div>
</section>
<section id="renaming-columns" class="level2">
<h2 class="anchored" data-anchor-id="renaming-columns">Renaming Columns</h2>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>s_temp <span class="op">=</span> s_temp.rename(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  columns<span class="op">=</span>{</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI1av'</span>:<span class="st">'abandonment'</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI2av'</span>:<span class="st">'interpersonal_relationships'</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI3av'</span>:<span class="st">'identity'</span>,</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI4av'</span>:<span class="st">'impulsivity'</span>,</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI5av'</span>:<span class="st">'parasuicidal_behavior'</span>,</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI6av'</span>:<span class="st">'affective_instability'</span>,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI7av'</span>:<span class="st">'emptiness'</span>,</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI8av'</span>:<span class="st">'outbursts_of_anger'</span>,</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'BPDSI9av'</span>:<span class="st">'dissociation_and_paranoid_ideation'</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  ,inplace<span class="op">=</span><span class="va">False</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating list of the column names</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>scolumns <span class="op">=</span> <span class="bu">list</span>(s_temp.columns)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>scolumns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<pre><code>['ID',
 'study',
 'BPDSIsum',
 'abandonment',
 'interpersonal_relationships',
 'identity',
 'impulsivity',
 'parasuicidal_behavior',
 'affective_instability',
 'emptiness',
 'outbursts_of_anger',
 'dissociation_and_paranoid_ideation']</code></pre>
</div>
</div>
</section>
<section id="checking-minmax-values" class="level2">
<h2 class="anchored" data-anchor-id="checking-minmax-values">Checking Min/Max Values</h2>
<section id="checking-min-values" class="level3">
<h3 class="anchored" data-anchor-id="checking-min-values">Checking Min Values</h3>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking the min values</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest BPDSIsum value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">2</span>].values))</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest abandonment value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">3</span>].values))</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest interpersonal_relationships value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">4</span>].values))</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest identity value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">5</span>].values))</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest impulsivity value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">6</span>].values))</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest parasuicidal_behavior value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">7</span>].values))</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest affective_instability value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">8</span>].values))</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest emptiness value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">9</span>].values))</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest outbursts_of_anger value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">10</span>].values))</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Smallest dissociation_and_paranoid_ideation value:"</span>, np.nanmin(s_temp.iloc[:, <span class="dv">11</span>].values))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Smallest BPDSIsum value: 0.0
Smallest abandonment value: 0.0
Smallest interpersonal_relationships value: 0.0
Smallest identity value: 0.0
Smallest impulsivity value: 0.0
Smallest parasuicidal_behavior value: 0.0
Smallest affective_instability value: 0.0
Smallest emptiness value: 0.0
Smallest outbursts_of_anger value: 0.0
Smallest dissociation_and_paranoid_ideation value: 0.0</code></pre>
</div>
</div>
<p>This shows something to watch out for when doing analysis. All of the participants of the studies have BPD, so it doesn’t make much sense to have no symptoms or BPD in general. Thus, there may be outliers in the data that can be taken out. This can also be because the participants had lower BPD severity to the point where they can no longer be categorized with BPD (maybe after treatment).</p>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking for rows where BPDSIsum = 0</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="co">#below_threshold = s_temp.loc[s_temp['BPDSIsum']==0]</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co">#s_cleandf = s_temp.loc[~s_temp['BPDSIsum'].isin(range(16))]</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co"># making sure those values are gone</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="co">#check = s_cleandf.loc[s_cleandf['BPDSIsum'].isin(range(16))]</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="co">#len(check.index)</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking the min values</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest BPDSIsum value:", np.nanmin(s_cleandf.iloc[:, 2].values))</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest abandonment value:", np.nanmin(s_cleandf.iloc[:, 3].values))</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest interpersonal_relationships value:", np.nanmin(s_cleandf.iloc[:, 4].values))</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest identity value:", np.nanmin(s_cleandf.iloc[:, 5].values))</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest impulsivity value:", np.nanmin(s_cleandf.iloc[:, 6].values))</span></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest parasuicidal_behavior value:", np.nanmin(s_cleandf.iloc[:, 7].values))</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest affective_instability value:", np.nanmin(s_cleandf.iloc[:, 8].values))</span></span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest emptiness value:", np.nanmin(s_cleandf.iloc[:, 9].values))</span></span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest outbursts_of_anger value:", np.nanmin(s_cleandf.iloc[:, 10].values))</span></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Smallest dissociation_and_paranoid_ideation value:", np.nanmin(s_cleandf.iloc[:, 11].values))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="checking-max-values" class="level3">
<h3 class="anchored" data-anchor-id="checking-max-values">Checking Max Values</h3>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking the max values</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest BPDSIsum value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">2</span>].values))</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest abandonment value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">3</span>].values))</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest interpersonal_relationships value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">4</span>].values))</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest identity value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">5</span>].values))</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest impulsivity value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">6</span>].values))</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest parasuicidal_behavior value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">7</span>].values))</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest affective_instability value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">8</span>].values))</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest emptiness value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">9</span>].values))</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest outbursts_of_anger value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">10</span>].values))</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Largest dissociation_and_paranoid_ideation value:"</span>, np.nanmax(s_temp.iloc[:, <span class="dv">11</span>].values))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Largest BPDSIsum value: 69.3085664335664
Largest abandonment value: 10.0
Largest interpersonal_relationships value: 7.75
Largest identity value: 10.0
Largest impulsivity value: 5.45454545454545
Largest parasuicidal_behavior value: 6.61538461538461
Largest affective_instability value: 10.0
Largest emptiness value: 10.0
Largest outbursts_of_anger value: 10.0
Largest dissociation_and_paranoid_ideation value: 10.0</code></pre>
</div>
</div>
<p>The <code>identity</code> column needs to be checked. According to the <code>codebook</code>, the range of values in <code>identity</code> should be from 0 to 4. The other column max values seem okay.</p>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking the unusual values in identity column</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>check <span class="op">=</span> s_temp.loc[s_temp[<span class="st">'identity'</span>]<span class="op">&gt;</span><span class="dv">4</span>]</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># check = severity_df.loc[severity_df['BPDSI3.1']&gt;4]</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co"># check = severity_df.loc[severity_df['BPDSI3.2']&gt;4]</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="co"># check = severity_df.loc[severity_df['BPDSI3.3']&gt;4]</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="co"># check = severity_df.loc[severity_df['BPDSI3.4']&gt;4]</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="co"># check = severity_df.loc[severity_df['BPDSI3.5']&gt;4]</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="co"># check = severity_df.loc[severity_df['BPDSI3.6']&gt;4]</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="co"># check = severity_df.loc[severity_df['BPDSI3.7']&gt;4]</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="co"># check = severity_df.loc[severity_df['BPDSI3.8']&gt;4]</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(check.index)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>1056</code></pre>
</div>
</div>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>plt.hist(s_temp[<span class="st">'identity'</span>], bins<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.hist(severity_df['BPDSI3.1'], bins=5)</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.hist(severity_df['BPDSI3.6'], bins=5)</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.hist(severity_df['BPDSI3.3'], bins=5)</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="DataCleaning_files/figure-html/cell-51-output-1.png" width="575" height="411"></p>
</div>
</div>
<p>After looking at the data and distribution, it seems that the <code>codebook</code> may have been incorrect. The scale for <code>identity</code> appears to be from 0 to 10 just like the other subscale groups. Checked in the original research paper (von Klipstein et al., 2021) and the authors note that all of the subscale groups have a scale from 0 to 10.</p>
</section>
</section>
<section id="exporting-datset" class="level2">
<h2 class="anchored" data-anchor-id="exporting-datset">Exporting Datset</h2>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>s_temp.to_csv(<span class="st">"../Data/SeverityData/severity_noNaNs.csv"</span>, index<span class="op">=</span><span class="va">False</span>, header<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>